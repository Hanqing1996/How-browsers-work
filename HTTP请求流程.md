#### `HTTP`和`TCP`

先通过三次握手建立tcp链接，链接建立好之后，发送http请求行和http请求头给服务器，然后服务器返回响应行，响应头和响应体，最终完成后通过四次挥手断开tcp链接

#### HTTP 请求流程

![whCf5q.png](https://s1.ax1x.com/2020/09/18/whCf5q.png)

#### code:304

> 一般的出现场景是，缓存期过了以后。浏览器向服务器发送请求索要资源，服务器返回304，表示“资源没有更新”。服务器不下载对应资源给客户端。而是让客户端自己从缓存中拿资源。

![wfLzn0.png](https://s1.ax1x.com/2020/09/18/wfLzn0.png)

#### 【面试】为什么很多站点第二次打开速度会很快？

如果第二次页面打开很快，主要原因是第一次加载页面过程中，缓存了一些耗时的数据。

那么，哪些数据会被缓存呢？从上面介绍的核心请求路径可以发现，DNS 缓存和页面资源缓存这两块数据是会被浏览器缓存的。**其中，DNS 缓存比较简单，它主要就是在浏览器本地把对应的 IP 和域名关联起来。**

#### 浏览器刷新操作，ctrl+F5和F5有什么区别？

`ctrl+F5` 强制刷新 `http` 请求会少了`if-none-match` 字段，所以不会协商缓存，将直接强制从服务器请求资源；`f5` 则会进行协商缓存

#### `HTTP2` 的`TCP`复用

Chrome 有个机制，同一个域名同时最多只能建立 6 个 TCP 连接，

*  http/1.1

浏览器会为每个域名维护6个tcp连接。但是每个tcp连接是可以复用的，也就是处理完一个请求之后，不断开这个tcp连接，可以用来处理下个http请求！

* http2

http2是可以并行请求资源的（即：信道复用），所以如果使用http2，浏览器只会为每个域名维护一个tcp连接。
